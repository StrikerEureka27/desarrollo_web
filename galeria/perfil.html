<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script> 
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script> 
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/2d53938f2f.js" crossorigin="anonymous"></script>
    <link rel="icon" href="img/Captura.ico">
    <link rel="stylesheet" href="css/perfil.css">
    <script type="text/javascript" src="script/perfil.js"></script>
    <title>Perfil</title>
</head>
<header>
    <nav id="barra" class="navbar">
        <span class="navbar-brand mb-0 h1"><i class="fas fa-camera"></i> Photo Gallery</span>
        <button  onclick="location.href = 'logout.php';" class="btn btn-light" ><i class="fas fa-user"></i></button>
      </nav>
</header>
<body>
    <section class="container mt-2">
        <div class="row">
            <div class="col-2" >
                <div id="info" ></div>    
                <div class="row">
                    <div class="col-3">
                        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal"><i class="fas fa-pencil-ruler"></i></button>
                    </div>
                    <div class="col-3">
                        <button type="button" data-toggle="modal" data-target="#exampleModal2" class="btn btn-secondary"><i class="fas fa-cog"></i></button>
                    </div>
                    <div class="col">
                        <button type="button"  data-toggle="modal" data-target="#myModal" class="btn btn-success"><i class="fas fa-plus"></i></button>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 mt-1">
                        <button  onclick="location.href = 'galeria.html';" class="btn btn-info" style="width: 85%;" ><i class="fas fa-undo-alt"></i></button>
                    </div>
                </div>
            </div>
            <div class="col-10 " >
                <div id="card"></div>
            </div>
        </div>
    </section>

    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Perfil</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
                <div class="container">
                    <div id="form-modal" ></div>
                </div>
            </div>
            <div class="modal-footer">
              <button type="button" onclick="actualizarUsuario(), location.href='logout.php'" class="btn btn-primary"><i class="fas fa-save"></i></i></button>
            </div>
          </div>
        </div>
      </div>

      <div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Configuracion</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
                <div class="container">
                    <label for="exampleFormControlInput1">Contraseña nueva</label>
                    <input type="email" class="form-control"  id="contraVieja" placeholder="Contraseña">
                </div>
            </div>
            <div class="modal-footer">
              <button type="button" onclick="actualizaContra()" class="btn btn-primary"><i class="fas fa-save"></i></i></button>
            </div>
          </div>
        </div>
      </div>

      <div class="bs-example">
        <div id="myModal" class="modal fade" data-backdrop="static"  tabindex="-1">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Subir foto</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                          <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <form action="php/insertar-imagen.php" method="post" enctype="multipart/form-data">
                            <div class="row">
                                <div class="col-sm-5 margen">
                                    <div class="form-row">
                                        <div id="identificador"></div>
                                        <label class="mt-2">Nombre</label>
                                        <input type="text" id="inputNombre" name="labelNom" class="form-control texbox-mod">
                                    </div>
                                    <div class="form-row">
                                        <label class="mt-2" for="exampleFormControlTextarea1">Descripcion</label>
                                        <textarea class="form-control texbox-mod mb-2" id="inputDe" name="labelDes"  rows="2"></textarea>
                                    </div>
                                </div>
                                <div class="col-sm-7 margen fondo">
                                    <div class="form-row tam">
                                        <div class="custom-file mw-100">
                                            <input type="file" class="custom-file-input" name="imagen" id="fileImg" accept="image/*">
                                            <label class="custom-file-label" for="customFileLang">Seleccionar Imagen</label>
                                            <br>
                                        </div>
                                        <div id="imagenPreview" class="col" >
                                            <img src="" alt="" class="mostrarimg img-thumbnail">
                                        </div>
                                    </div>
                                    <div class="from-row fixed-bottom position-absolute mb-2">
                                        <button type="submit" class="btn btn-primary" value="agregar" name="agregar" >Guardar</button>
                                    </div>
                                </div>
                            </div>
                        </form>
                </div>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript">
        const inpFile= document.getElementById("fileImg");
        const previewContainer = document.getElementById("imagenPreview");
        const previewImage = previewContainer.querySelector(".mostrarimg");

        inpFile.addEventListener("change", function(){
            const file= this.files[0];
            
            if(file){
                const reader = new FileReader();
                reader.addEventListener("load", function(){
                    previewImage.setAttribute("src", this.result);
                });
                reader.readAsDataURL(file);
            }
        });
    </script>



</body>
</html>